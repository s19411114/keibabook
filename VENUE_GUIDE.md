# 会場選択機能ガイド

## 概要

地方競馬の場合、会場を選択できる機能を実装しています。

## 会場一覧

### 南関4会場（メイン）
- **大井**: 大井競馬場
- **川崎**: 川崎競馬場
- **船橋**: 船橋競馬場
- **浦和**: 浦和競馬場

### その他会場（たまに開催される重賞レース）
- **門別**: 門別競馬場
- **盛岡**: 盛岡競馬場
- **名古屋**: 名古屋競馬場
- **園田**: 園田競馬場
- **金沢**: 金沢競馬場
- **高知**: 高知競馬場
- **佐賀**: 佐賀競馬場
- **荒尾**: 荒尾競馬場

## 使い方

### Streamlit GUI

1. サイドバーで「地方競馬 (NAR)」を選択
2. 「会場タイプ」で「南関4会場」または「その他会場」を選択
3. 「会場を選択」で具体的な会場を選択

### 設定ファイル

`config/settings.yml` で設定：

```yaml
race_type: "nar"
venue_type: "minami_kanto"  # 'minami_kanto' or 'other'
venue: "大井"  # 会場名
```

## URL構造について

現在の実装では、URLは直接入力する形になっています。
実際の競馬ブックサイトのURL構造に応じて、会場コードをURLに組み込む必要がある場合があります。

### URL構造の例（推測）

- 南関4会場: `https://s.keibabook.co.jp/chihou/syutuba/{race_id}`
- その他会場: `https://s.keibabook.co.jp/chihou/{venue_code}/syutuba/{race_id}`

実際のURL構造を確認して、`src/utils/venue_manager.py` の `build_url()` メソッドを調整してください。

## 今後の拡張

- [ ] 実際のURL構造を確認してURL生成を実装
- [ ] 会場ごとのHTML構造の違いに対応
- [ ] 会場ごとの特徴を考慮した分析機能

